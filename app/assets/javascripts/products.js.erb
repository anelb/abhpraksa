
function show_color(){
	selected_color = $('#product_variant_color_id :selected').text()
	$('#product_variant_color_id').css('background-color', selected_color)
	$('#product_variant_color_id').css('color', selected_color)
}

function blend_color(){
	product_colors = $('#product_variant_color_id').find('option')
	$.each(product_colors, function(index, product_color) {
		$(product_color).css('color', $(product_color).text());
	});
}

$(document).ready(function() {
	show_color();
	blend_color();
	colors =  <%= Color.all.map { |color| [ color.product_color, color.hex_value ] } %>
	$.each(colors, function(index, value) {
		color = value[0]
		hex_value = value[0]
		product_colors = $('#product_variant_color_id').find('option')
		$.each(product_colors, function(index, product_color) {
			if( color == $(product_color).text()) {
				$(product_color).css('background-color', hex_value)
			}
		});
	});
});


$(document).ready(function() { 
	colors = $('#product_variant_color_id').html(); 
  size = $('#product_variant_size_id :selected').text();
  options = $(colors).filter('optgroup[label=' + size + ']').html();
  $('#product_variant_color_id').html(options);
});


$(document).ready(function() {
  $('#product_variant_size_id').change(function() {
		size = $('#product_variant_size_id :selected').text();
		options = $(colors).filter('optgroup[label=' + size + ']').html();
		$('#product_variant_color_id').html(options);
		show_color();
	});
});

$(document).ready(function() {
  $('#product_variant_color_id').change(function() {
		show_color();
	});
});



